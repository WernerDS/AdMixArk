@{
    ViewData["Title"] = "Dashboard";
}

<section class="section pt-4">
	<div class="container-fluid">
		
		<div class="row">
			<div class="col-md-8">
		
				<div class="row">
					<div class="col">
						
						<div class="element">
							<div class="element-actions">
								<form class="form-inline justify-content-sm-end">
									<select class="form-control form-control-sm rounded">
										<option value="Pending">Today</option>
										<option value="Active">Last Week</option>
										<option value="Cancelled">Last 30 Days</option>
									</select>
								</form>
							</div>
							<h6 class="element-header">Small Stats</h6>
							<div class="row">
								<div class="col-md-4">
									<div class="statcard statcard-white p-3">
										<h3 class="statcard-number">
											12,938
											<small class="delta-indicator delta-positive">5%</small>
										</h3>
										<span class="statcard-desc">Page views</span>
									</div>
								</div>
								<div class="col-md-4">
									<div class="statcard statcard-white p-3">
										<h3 class="statcard-number">
											758
											<small class="delta-indicator delta-negative">1.3%</small>
										</h3>
										<span class="statcard-desc">Downloads</span>
									</div>
								</div>
								<div class="col-md-4">
									<div class="statcard statcard-white p-3">
										<h3 class="statcard-number">
											1,293
											<small class="delta-indicator delta-positive">3%</small>
										</h3>
										<span class="statcard-desc">Calls received</span>
									</div>
								</div>
							</div>
						</div>
						
						<div class="element">
							<h6 class="element-header">Statuses</h6>
							
							<div class="table-responsive">
								<table id="data-table" class="table mb-0 mt-0 table-padded">
									<thead>
										<tr>
											<th>Status</th>
											<th>Date</th>
											<th>Description</th>
											<th class="text-center">Category</th>
											<th class="text-right">Amount</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><span class="fas fa-circle fa-xs text-success mr-1"></span><span>Complete</span></td>
											<td>Today<span class="badge badge-light badge-pill ml-2">1:52am</span></td>
											<td><i class="fab fa-adn fa-lg"></i> Banana Shakes LLC</td>
											<td class="text-center"><a class="badge badge-success" href="">Shopping</a></td>
											<td class="text-right"><span class="text-success">+ 1,250 ZAR</span></td>
										</tr>
										<tr>
											<td><span class="fas fa-circle fa-xs text-danger mr-1"></span><span>Declined</span></td>
											<td>Jan 19th<span class="badge badge-light badge-pill ml-2">3:22pm</span></td>
											<td><i class="fab fa-codepen fa-lg"></i> Stripe Payment Processing</td>
											<td class="text-center"><a class="badge badge-danger" href="">Cafe</a></td>
											<td class="text-right"><span class="text-success">+ 952.23 ZAR</span></td>
										</tr>
										<tr>
											<td><span class="fas fa-circle fa-xs text-warning mr-1"></span><span>Pending</span></td>
											<td>Yesterday<span class="badge badge-light badge-pill ml-2">7:45am</span></td>
											<td><i class="fab fa-elementor fa-lg"></i> MailChimp Services</td>
											<td class="text-center"><a class="badge badge-warning" href="">Restaurants</a></td>
											<td class="text-right"><span class="text-danger">- 320 ZAR</span></td>
										</tr>
										<tr>
											<td><span class="fas fa-circle fa-xs text-warning mr-1"></span><span>Pending</span></td>
											<td>Jan 23rd<span class="badge badge-light badge-pill ml-2">2:12pm</span></td>
											<td><i class="fab fa-dropbox fa-lg"></i> Starbucks Cafe</td>
											<td class="text-center"><a class="badge badge-primary" href="">Shopping</a></td>
											<td class="text-right"><span class="text-success">+ 17.99 ZAR</span></td>
										</tr>
										<tr>
											<td><span class="fas fa-circle fa-xs text-success mr-1"></span><span>Complete</span></td>
											<td>Jan 12th<span class="badge badge-light badge-pill ml-2">9:51am</span></td>
											<td><i class="fab fa-facebook fa-lg"></i> Ebay Marketplace</td>
											<td class="text-center"><a class="badge badge-danger" href="">Groceries</a></td>
											<td class="text-right"><span class="text-danger">- 244 ZAR</span></td>
										</tr>
										<tr>
											<td><span class="fas fa-circle fa-xs text-warning mr-1"></span><span>Pending</span></td>
											<td>Jan 9th<span class="badge badge-light badge-pill ml-2">12:45pm</span></td>
											<td><i class="fab fa-get-pocket fa-lg"></i> Envato Templates Inc</td>
											<td class="text-center"><a class="badge badge-primary" href="">Business</a></td>
											<td class="text-right"><span class="text-success">+ 340 ZAR</span></td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
						
					</div>
				</div>
				
			</div>
			
			<div class="col-md-3 ml-auto border-left">
				
				<div class="element">
					<h6 class="element-header">Element Header</h6>
				
				</div>
				
			</div>
			
	</div>
</section>


@section Scripts {
	<!-- Data tables -->
    <script src="~/lib/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="~/lib/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="~/lib/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="~/lib/jszip/dist/jszip.min.js"></script>
    <script src="~/lib/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script>
	    $(document).ready(function () {
	
			if($('#data-table')[0]) {
		
		        // Add custom buttons
		        var dataTableButtons =  '<div class="actions">' + 
										  '<button type="button" class="btn btn-action" data-table-action="print"><i class="fas fa-print"></i></button>' +
										  '<button type="button" class="btn btn-action" data-table-action="fullscreen"><i class="fas fa-expand"></i></button>' +
										  '<div class="d-inline-block" role="group">' +
										    '<button id="btnGroupDrop1" type="button" class="btn btn-action" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fas fa-download"></i></button>' +
										    '<div class="dropdown-menu" aria-labelledby="btnGroupDrop1">' +
										      '<a class="dropdown-item" href="#" data-table-action="excel">Excel (.xlsx)</a>' +
										      '<a class="dropdown-item" href="#" data-table-action="csv">CSV (.csv)</a>' +
										    '</div>' +
										  '</div>' +
										'</div>';
		
		        // Initiate data-table
		        $('#data-table').DataTable({
		            autoWidth: false,
		            responsive: true,
		            lengthMenu: [[15, 30, 45, -1], ['15 Rows', '30 Rows', '45 Rows', 'Everything']], //Length select
		            language: {
		                searchPlaceholder: "Search for records..." // Search placeholder
		            },
		            dom: 'Blfrtip',
		            buttons: [ // Data table buttons for export and print
		                {
		                    extend: 'excelHtml5',
		                    title: 'Export Data'
		                },
		                {
		                    extend: 'csvHtml5',
		                    title: 'Export Data'
		                },
		                {
		                    extend: 'print',
		                    title: 'Dealer List'
		                }
		            ],
		            "initComplete": function(settings, json) {
		                $(this).closest('.dataTables_wrapper').prepend(dataTableButtons); // Add custom button (fullscreen, print and export)
		            },
		            "bPaginate": false,
	                "bLengthChange": false,
	                "bFilter": false,
	                "bSort": true,
	                "bInfo": false,
	                "bAutoWidth": false,
	                "order": [[1, "desc"]],
	                "aoColumns": [
	                    { "bSortable": false },
	                    { "bSortable": true },
	                    { "bSortable": false },
	                    { "bSortable": false },
	                    { "bSortable": true }
	                ]
		        });
		
		        // Data table button actions
		        $('body').on('click', '[data-table-action]', function (e) {
		            e.preventDefault();
		
		            var exportFormat = $(this).data('table-action');
		
		            if(exportFormat === 'excel') {
		                $(this).closest('.dataTables_wrapper').find('.buttons-excel').trigger('click');
		            }
		            if(exportFormat === 'csv') {
		                $(this).closest('.dataTables_wrapper').find('.buttons-csv').trigger('click');
		            }
		            if(exportFormat === 'print') {
		                $(this).closest('.dataTables_wrapper').find('.buttons-print').trigger('click');
		            }
		            if(exportFormat === 'fullscreen') {
		                var parentCard = $(this).closest('.card');
		
		                if(parentCard.hasClass('card--fullscreen')) {
		                    parentCard.removeClass('card--fullscreen');
		                    $('body').removeClass('data-table-toggled');
		                }
		                else {
		                    parentCard.addClass('card--fullscreen')
		                    $('body').addClass('data-table-toggled');
		                }
		            }
		        });
		    }
		    
		});
	</script>
}